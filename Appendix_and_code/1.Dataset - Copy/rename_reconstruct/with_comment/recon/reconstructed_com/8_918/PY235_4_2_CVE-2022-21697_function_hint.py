from jupyter_server.utils import ensure_async, url_path_join



def setup_handlers(web_app, serverproxy_config):
    rewrite_response = serverproxy_config.non_service_rewrite_response
    host_allowlist = serverproxy_config.host_allowlist
    web_app.add_handlers(
        ".*",
        [
            (
            # the following code is for fixing the vulnerability CWE-918 (Server-Side Request Forgery )