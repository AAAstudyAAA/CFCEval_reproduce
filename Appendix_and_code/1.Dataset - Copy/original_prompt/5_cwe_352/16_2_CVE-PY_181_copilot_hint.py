from reversion import revisions as reversion
from django.contrib.auth.decorators import (
    login_required, permission_required, user_passes_test
)
from django.views.decorators.http import require_http_methods
from modoboa.core.models import User
from modoboa.lib.exceptions import BadRequest, PermDeniedException
from .. import signals
from ..forms import AccountForm, AccountWizard


@login_required
@permission_required("core.change_user")
@require_http_methods(["POST"])