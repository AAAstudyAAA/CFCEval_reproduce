import cherrypy



def default(self, path=b"", action=None, **kwargs):
    repo_obj = self.app.store.get_repo(path)

# fixed
    if cherrypy.request.method == 'POST':
        if kwargs.get('keepdays'):
            return self._remove_older(repo_obj, **kwargs)
        elif kwargs.get('new_encoding'):
            return self._set_encoding(repo_obj, **kwargs)
        elif kwargs.get('maxage'):
            return self._set_maxage(repo_obj, **kwargs)
# fixed
    
    # Get page data.
    params = {
        'repo': repo_obj,
        'keepdays': repo_obj.keepdays,
    }
    # Generate page.
    return self._compile_template("settings.html", **params)