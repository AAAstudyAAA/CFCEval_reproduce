"""Django Views for the termsandconditions module"""

# pylint: disable=E1120,R0901,R0904

import logging

LOGGER = logging.getLogger(name="termsandconditions")
DEFAULT_TERMS_BASE_TEMPLATE = "base.html"
DEFAULT_TERMS_IP_HEADER_NAME = "REMOTE_ADDR"


def get_initial(self):
    """Override of CreateView method, queries for which T&C to accept and catches returnTo from URL"""
    LOGGER.debug("termsandconditions.views.AcceptTermsView.get_initial")

    terms = self.get_terms(self.kwargs)
# vulnerable
    return_to = self.request.GET.get("returnTo", "/")
# vulnerable
    return {"terms": terms, "returnTo": return_to}
