import os
from flask import current_app, make_response, request
from flask import send_file, render_template, safe_join
from flask import Blueprint
route_blueprint = Blueprint('route_blueprint', __name__)





# Everything not declared before (not a Flask route / API endpoint)...
@route_blueprint.route('/<path:path>')
def route_frontend(path):
    # ...could be a static file needed by the front end that
    # doesn't use the `static` path (like in `<script src="bundle.js">`)

    # the following code is for fixing the vulnerability CWE-22 (Path Traversal)
    # by using safe_join function
    # path = safe_join(current_app.static_folder, path)
    path = safe_join(current_app.static_folder, path)