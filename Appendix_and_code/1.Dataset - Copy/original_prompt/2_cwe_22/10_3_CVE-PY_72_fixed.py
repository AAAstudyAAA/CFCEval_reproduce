import logging
from flask import Blueprint, url_for, Response, stream_with_context, send_file, \
    jsonify

from werkzeug.security import safe_join

BASEURL = 'cocktail'
STYLE = False
LOCAL_OBJ_URI = True  # if true, return local file path, otherwise http.
INDEXDIR = DATAROOT = None
ITEMS_PER_ITERATION = int(1e4)

"""
    Example cocktail url:
        /cocktail/base/FFFFFFFFFFFFFFFF/distrbuted/1of2/ \
            mixers/FFFFFFFFFFFFFFFC/keywords/d_42_1.0/classes/gull,cardinal
        /cocktail/base/"0"/mixers/FFFFFFFFFFFFFFFC/keywords/d_42_1.0
        /cocktail/base/FFFFFFFFFFFFFFFF/keywords/d_42_1.0
"""


def init(config):
    global INDEXDIR, DATAROOT  # pylint: disable=global-statement
    INDEXDIR = config.indexdir
    DATAROOT = config.dataroot


scope_blueprint = Blueprint('mixer_store', __name__)

_log = logging.getLogger(__name__)




def _get_obj_absolute_path(obj_path):
    # fixed

    return safe_join(DATAROOT, obj_path)

   # fixed








