from urllib.parse import urlunparse, urlparse, quote
from jupyter_server.utils import ensure_async, url_path_join



def  get_customer_uri(self, protocol, host, port, proxied_path):
    # if self.absolute_url:
    if not self.absolute_url:
        customer_dir = proxied_path
    else:
        background_dir = self._get_context_path(host, port)
        customer_dir = url_path_join(background_dir, proxied_path)


    # ensure client_path always starts with '/'
    if