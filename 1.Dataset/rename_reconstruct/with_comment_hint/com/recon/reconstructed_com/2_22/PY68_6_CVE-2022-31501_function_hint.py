from flask import redirect, request, url_for, current_app, abort, flash, send_file
from werkzeug.utils import safe_join





def get(self):
    server = None
    server_id = request.args["server"]
    path = request.args["path"]
    assert path
    servers = current_app.config["BYOND_SERVERS"]
    assert server_id

    index=0
    while index < len(servers):
        srv = servers[index]
    # for srv in servers:
        if srv.id == server_id:
            server = srv
            break
        index+=1

    if server is None:
        abort(404)
    # the following code is for fixing the vulnerability CWE-22 (Path Traversal)
