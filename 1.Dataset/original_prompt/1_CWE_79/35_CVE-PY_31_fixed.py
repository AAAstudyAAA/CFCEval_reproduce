import error
def _getResourceForRequest(self, request):
    """(Internal) Get the appropriate resource for the given host.
    """
    host = string.lower(request.getHeader('host'))
    # ---fixed---
    return self.hosts.get(host, error.NoResource("host %s not in vhost map" % repr(host)))
    # ---fixed---