import logging
from pathlib import Path


def dump_content(destination, path, getter):
    logging.debug(path)
    content = getter(path)
    if path.endswith("/"):
        path = path + "index.html"
#vulnerable
    path = Path(destination) / path.lstrip("/")
#vulnerable
    path.parent.mkdir(parents=True, exist_ok=True)

    with open(path, "wb") as f:
        f.write(content)
    return content
